---
import SectionTitle from "@/components/SectionTitle.astro";
import Icon from "@/components/Icon.astro";
import type { Icon as IconType, StatsData } from "@/config/landing.interface";

interface Props {
  data: StatsData;
}

const { data } = Astro.props;
---

<section id="stats-section" class="stats-section flex flex-col mb-60 gap-y-28">
  <SectionTitle>
    {data.title}
  </SectionTitle>

  {data.subtitle && (
    <p class="stats-subtitle text-center text-lg text-gray-600 max-w-3xl mx-auto -mt-16 mb-8">
      {data.subtitle}
    </p>
  )}

  <div class="flex flex-wrap justify-center -m-4 text-center max-w-6xl mx-auto">
    {
      data.stats.map((stat, index) => (
        <div class={`p-4 md:w-1/4 sm:w-1/2 w-full min-w-[220px] text-center ${index < data.stats.length - 1 ? 'md:border-r border-gray-200' : ''}`}>
          <div class="stat-item flex flex-col items-center">
            {stat.icon && (
              <div class="flex items-center justify-center mx-auto mb-4 text-primary">
                <Icon class="w-12 h-12" icon={stat.icon as IconType} />
              </div>
            )}

            <div class="stat-amount text-primary text-5xl lg:text-6xl xl:text-7xl font-bold font-heading mb-2">
              {stat.amount}
            </div>

            {stat.label && (
              <div class="stat-label text-lg font-medium text-gray-700 mb-2">
                {stat.label}
              </div>
            )}

            {stat.description && (
              <div class="stat-description text-sm text-gray-500 max-w-[200px]">
                {stat.description}
              </div>
            )}
          </div>
        </div>
      ))
    }
  </div>
</section>

<style>
  /* Theme-aware styling using CSS custom properties */
  .stats-section {
    color: var(--theme-text, inherit);
  }

  .stats-subtitle {
    color: var(--theme-text-secondary, inherit);
  }

  .stat-amount {
    color: var(--theme-accent, #1D4ED8);
  }

  .stat-label {
    color: var(--theme-text, #374151);
  }

  .stat-description {
    color: var(--theme-text-secondary, #6B7280);
  }
</style>
